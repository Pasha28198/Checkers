function clean(){for(var e=0;e<columnId.length;e++)document.getElementById(columnId[e]).classList.remove("attack","maySteps"),document.getElementById(columnId[e]).removeAttribute("onclick");columnId.length=0,0!=arguments.length&&1==games.Pasha.stateGame?(2==arguments[0]&&games.Pasha.countChecker++,colPos[step].active=0,colPos[step].colorIn="",games.Pasha.stateGame=0,games.Dima.stateGame=1):0!=arguments.length&&1==games.Dima.stateGame&&(2==arguments[0]&&games.Dima.countChecker++,colPos[step].active=0,colPos[step].colorIn="",games.Pasha.stateGame=1,games.Dima.stateGame=0),verifeOnWinner()}function generatePace(){for(var e=document.getElementById("board"),t=1;t<=8;t++){var c=document.createElement("div");c.className="rows",e.appendChild(c),c.id="row_"+t;for(var o=1;o<=8;o++){var a=document.getElementById("row_"+t),l=document.createElement("div");if(l.className="cols",l.id=10*t+o,newCol(l.id),o%2!=0&&t%2==0){if(generateCol(l,"black",a),t>3&&t<6)continue;colPos.active=1,generateCheckers(o,t,l,t<4?"Black":"White",10*t+o)}else if(o%2==0&&t%2!=0){if(generateCol(l,"black",a),t>3&&t<6)continue;colPos.active=1,generateCheckers(o,t,l,t<4?"Black":"White",10*t+o)}else generateCol(l,"none",a)}}}function generateCheckers(e,t,c,o,a,l){var n=document.createElement("div");n.classList.add(o,10*t+e+"el"),void 0!=l&&n.classList.add(l),n.id=10*t+e+"el",0!=t&&0!=e&&(colPos[10*t+e].active=1,colPos[c.id].colorIn=o,colPos[c.id].idCheckerIN=n.id,newElement(o,a,1,c.id),n.setAttribute("onclick","defineChecker('"+n.id+"')")),c.appendChild(n)}function generateCol(e,t,c){e.classList.add(t),c.appendChild(e)}function newCol(e){colPos[e]={id:e,active:0,colorIn:"",idCheckerIN:0}}function newElement(e,t,c,o){t in elem?elem[t].InColId=o:elem[t]={id:t,active:c,color:e,InColId:o}}function defineChecker(e){"White"==elem[parseInt(e)].color&&1==games.Pasha.stateGame?(0!=columnId.length&&clean(),verifeAtackOrStep(e,elem[parseInt(e)].InColId)):"Black"==elem[parseInt(e)].color&&1==games.Dima.stateGame&&(0!=columnId.length&&clean(),verifeAtackOrStep(e,elem[parseInt(e)].InColId))}function steps(e,t){var c=elem[t].InColId;document.getElementById(t+"el").remove(),generateCheckers(t%10,(t-t%10)/10,document.getElementById(e),"Black"==elem[t].color?"Black":"White",t),colPos[e].active=1,colPos[c].active=0,step=c,clean(1),console.log(colPos)}function attack(e,t,c){var o=elem[t].InColId;generateCheckers(0,0,"Black"==elem[t].color?games.Dima.col:games.Pasha.col,colPos[c].colorIn,t+"el","dead_checkers"),document.getElementById(t+"el").remove(),document.getElementById(colPos[c].idCheckerIN).remove();var a=document.getElementById(e);elem[parseInt(colPos[c].idCheckerIN)].active=0,generateCheckers(t%10,(t-t%10)/10,a,"Black"==elem[t].color?"Black":"White",t),colPos[o].active=0,colPos[c].active=0,colPos[e].active=1,step=o,clean(2),console.log(colPos)}function verifeOnWinner(){12==games.Pasha.countChecker?(alert("Pasha win"),window.location.reload()):12==games.Dima.countChecker&&(alert("Dima win"),window.location.reload()),11==games.Pasha.countChecker&&11==games.Dima.countChecker&&(alert("Draw"),window.location.reload())}function verifeAtackOrStep(e,t){e=parseInt(e);var c=t%10,o=(t-t%10)/10;document.getElementById(t).classList.add("maySteps"),columnId.push(t),"Black"==elem[e].color?markPace(c,o,+e,1,"Black",c<8,c<7,c>1,c>2):markPace(c,o,+e,-1,"White",c>1,c>2,c<8,c<7)}function markPace(e,t,c,o,a,l,n,s,m){l&&(0==colPos[10*(t+1*o)+(e+1*o)].active||""==colPos[10*(t+1*o)+(e+1*o)].colorIn?(document.getElementById(10*(t+1*o)+(e+1*o)).classList.add("maySteps"),document.getElementById(10*(t+1*o)+(e+1*o)).setAttribute("onclick","steps("+(t+1*o)+(e+1*o)+","+c+")"),columnId.push(10*(t+1*o)+(e+1*o))):n&&(0!=colPos[10*(t+2*o)+(e+2*o)].active&&""!=colPos[10*(t+2*o)+(e+2*o)].colorIn||colPos[10*(t+1*o)+(e+1*o)].colorIn==a||(document.getElementById(10*(t+2*o)+(e+2*o)).classList.add("attack"),document.getElementById(10*(t+2*o)+(e+2*o)).setAttribute("onclick","attack("+(t+2*o)+(e+2*o)+","+c+","+(t+1*o)+(e+1*o)+")"),columnId.push(10*(t+2*o)+(e+2*o))))),s&&(0==colPos[10*(t+1*o)+(e-1*o)].active||""==colPos[10*(t+1*o)+(e-1*o)].colorIn?(document.getElementById(10*(t+1*o)+(e-1*o)).classList.add("maySteps"),document.getElementById(10*(t+1*o)+(e-1*o)).setAttribute("onclick","steps("+(t+1*o)+(e-1*o)+","+c+")"),columnId.push(10*(t+1*o)+(e-1*o))):m&&(0!=colPos[10*(t+2*o)+(e-2*o)].active&&""!=colPos[10*(t+2*o)+(e-2*o)].colorIn||colPos[10*(t+1*o)+(e-1*o)].colorIn==a||(document.getElementById(10*(t+2*o)+(e-2*o)).classList.add("attack"),document.getElementById(10*(t+2*o)+(e-2*o)).setAttribute("onclick","attack("+(t+2*o)+(e-2*o)+","+c+","+(t+1*o)+(e-1*o)+")"),columnId.push(10*(t+2*o)+(e-2*o)))))}var colPos={},elem={},columnId=[],step;games={Pasha:{stateGame:1,countChecker:0,col:document.getElementById("first_elements")},Dima:{stateGame:0,countChecker:0,col:document.getElementById("second_elements")}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsZWFuLmpzIiwiZ2VuZXJhdGVET00uanMiLCJsb2dpYy5qcyIsIm1hcmthbmR2ZXJpZmUuanMiXSwibmFtZXMiOlsiY2xlYW4iLCJpIiwiY29sdW1uSWQiLCJsZW5ndGgiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiYXJndW1lbnRzIiwiZ2FtZXMiLCJQYXNoYSIsInN0YXRlR2FtZSIsImNvdW50Q2hlY2tlciIsImNvbFBvcyIsInN0ZXAiLCJhY3RpdmUiLCJjb2xvckluIiwiRGltYSIsInZlcmlmZU9uV2lubmVyIiwiZ2VuZXJhdGVQYWNlIiwicGFjZSIsInJvdyIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsImlkIiwiaiIsInJvd19pZCIsImNvbCIsIm5ld0NvbCIsImdlbmVyYXRlQ29sIiwiZ2VuZXJhdGVDaGVja2VycyIsImNsYXMyIiwiZWxlbSIsImFkZCIsInVuZGVmaW5lZCIsImlkQ2hlY2tlcklOIiwibmV3RWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNvbG9yIiwiSW5Db2xJZCIsImRlZmluZUNoZWNrZXIiLCJpZEVsZW1lbnRzIiwicGFyc2VJbnQiLCJ2ZXJpZmVBdGFja09yU3RlcCIsInN0ZXBzIiwiZSIsInBvcyIsImNvbnNvbGUiLCJsb2ciLCJhdHRhY2siLCJJZFBvc0F0dGFja0NoZWNrZXIiLCJhbGVydCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiaWRFbGVtIiwiaWRDb2wiLCJ4IiwieSIsInB1c2giLCJtYXJrUGFjZSIsInN0IiwiYSIsImIiLCJjIiwiZCJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsU0FDQSxJQUFBLEdBQUFDLEdBQUEsRUFBQUEsRUFBQUMsU0FBQUMsT0FBQUYsSUFDQUcsU0FBQUMsZUFBQUgsU0FBQUQsSUFBQUssVUFBQUMsT0FBQSxTQUFBLFlBQ0FILFNBQUFDLGVBQUFILFNBQUFELElB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QSxJQUFBdUQsRUFBQSxFQUFBRyxJQUFBSixFQUFBLEVBQUFJLElBQUF4QixhQUFBLFVBQUEsVUFBQXFCLEVBQUEsRUFBQUcsSUFBQUosRUFBQSxFQUFBSSxHQUFBLElBQUFOLEVBQUEsS0FDQXZELFNBQUEyRCxLQUFBLElBQUFELEVBQUEsRUFBQUcsSUFBQUosRUFBQSxFQUFBSSxLQUNBSSxJQUNBLEdBQUFyRCxPQUFBLElBQUE4QyxFQUFBLEVBQUFHLElBQUFKLEVBQUEsRUFBQUksSUFBQS9DLFFBQUEsSUFBQUYsT0FBQSxJQUFBOEMsRUFBQSxFQUFBRyxJQUFBSixFQUFBLEVBQUFJLElBQUE5QyxTQUFBSCxPQUFBLElBQUE4QyxFQUFBLEVBQUFHLElBQUFKLEVBQUEsRUFBQUksSUFBQTlDLFNBQUF1QixJQUNBcEMsU0FBQUMsZUFBQSxJQUFBdUQsRUFBQSxFQUFBRyxJQUFBSixFQUFBLEVBQUFJLElBQUF6RCxVQUFBNkIsSUFBQSxVQUNBL0IsU0FBQUMsZUFBQSxJQUFBdUQsRUFBQSxFQUFBRyxJQUFBSixFQUFBLEVBQUFJLElBQ0F4QixhQUFBLFVBQUEsV0FBQXFCLEVBQUEsRUFBQUcsSUFBQUosRUFBQSxFQUFBSSxHQUFBLElBQ0FOLEVBQUEsS0FBQUcsRUFBQSxFQUFBRyxJQUFBSixFQUFBLEVBQUFJLEdBQUEsS0FDQTdELFNBQUEyRCxLQUFBLElBQUFELEVBQUEsRUFBQUcsSUFBQUosRUFBQSxFQUFBSSxPRHZDQSxHQUFBakQsV0FDQW9CLFFBQ0FoQyxZQUNBYSxJQUNBTCxRQUNBQyxPQUNBQyxVQUFBLEVBQ0FDLGFBQUEsRUFDQWdCLElBQUF6QixTQUFBQyxlQUFBLG1CQUVBYSxNQUNBTixVQUFBLEVBQ0FDLGFBQUEsRUFDQWdCLElBQUF6QixTQUFBQyxlQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjbGVhbigpe1xyXG4gICAgZm9yKHZhciBpID0gMCA7IGkgPCBjb2x1bW5JZC5sZW5ndGggOyBpKysgKXtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb2x1bW5JZFtpXSkuY2xhc3NMaXN0LnJlbW92ZSgnYXR0YWNrJywnbWF5U3RlcHMnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb2x1bW5JZFtpXSkucmVtb3ZlQXR0cmlidXRlKCdvbmNsaWNrJyk7XHJcbiAgICB9XHJcbiAgICBjb2x1bW5JZC5sZW5ndGggPSAwO1xyXG4gICAgaWYoYXJndW1lbnRzLmxlbmd0aCAhPSAwICYmIGdhbWVzLlBhc2hhLnN0YXRlR2FtZSA9PSAxKXtcclxuICAgICAgICBpZihhcmd1bWVudHNbMF0gPT0gMil7Z2FtZXMuUGFzaGEuY291bnRDaGVja2VyKyt9XHJcbiAgICAgICAgY29sUG9zW3N0ZXBdLmFjdGl2ZSA9IDA7XHJcbiAgICAgICAgY29sUG9zW3N0ZXBdLmNvbG9ySW49Jyc7XHJcbiAgICAgICAgZ2FtZXMuUGFzaGEuc3RhdGVHYW1lID0gMDtcclxuICAgICAgICBnYW1lcy5EaW1hLnN0YXRlR2FtZSA9IDE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDAgJiYgZ2FtZXMuRGltYS5zdGF0ZUdhbWUgPT0gMSl7XHJcbiAgICAgICAgaWYoYXJndW1lbnRzWzBdID09IDIpe2dhbWVzLkRpbWEuY291bnRDaGVja2VyKyt9XHJcbiAgICAgICAgY29sUG9zW3N0ZXBdLmFjdGl2ZSA9IDA7XHJcbiAgICAgICAgY29sUG9zW3N0ZXBdLmNvbG9ySW49Jyc7XHJcbiAgICAgICAgZ2FtZXMuUGFzaGEuc3RhdGVHYW1lID0gMTtcclxuICAgICAgICBnYW1lcy5EaW1hLnN0YXRlR2FtZSA9IDA7XHJcbiAgICB9XHJcbiAgICB2ZXJpZmVPbldpbm5lcigpO1xyXG59IiwiZnVuY3Rpb24gZ2VuZXJhdGVQYWNlKCl7XHJcbiAgICB2YXIgcGFjZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib2FyZCcpO1xyXG4gICAgZm9yKHZhciBpID0gMSA7IGkgPD0gOCA7ICAgaSsrKXtcclxuICAgICAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgcm93LmNsYXNzTmFtZSA9ICdyb3dzJztcclxuICAgICAgICBwYWNlLmFwcGVuZENoaWxkKHJvdyk7XHJcbiAgICAgICAgcm93LmlkPSdyb3dfJytpO1xyXG4gICAgICAgIGZvcih2YXIgaiA9IDEgOyBqIDw9IDggOyBqKyspe1xyXG4gICAgICAgICAgICB2YXIgcm93X2lkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvd18nK2kpO1xyXG4gICAgICAgICAgICB2YXIgY29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGNvbC5jbGFzc05hbWUgPSAnY29scyc7XHJcbiAgICAgICAgICAgIGNvbC5pZCA9IChpKSoxMCtqO1xyXG4gICAgICAgICAgICBuZXdDb2woY29sLmlkKTtcclxuICAgICAgICAgICAgaWYgKGogJSAyICE9IDAgJiYgaSAlIDIgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUNvbChjb2wsJ2JsYWNrJyxyb3dfaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYoaT4zICYmIGkgPCA2KXtjb250aW51ZTt9XHJcbiAgICAgICAgICAgICAgICBjb2xQb3MuYWN0aXZlID0gMTtcclxuICAgICAgICAgICAgICAgIGdlbmVyYXRlQ2hlY2tlcnMoaixpLGNvbCxpIDwgNCA/ICdCbGFjaycgOiAnV2hpdGUnLGkqMTAraik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZihqICUgMiA9PSAwICYmIGkgJSAyICE9MCApe1xyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVDb2woY29sLCdibGFjaycscm93X2lkKTtcclxuICAgICAgICAgICAgICAgIGlmKGk+MyAmJiBpIDwgNil7Y29udGludWU7fVxyXG4gICAgICAgICAgICAgICAgY29sUG9zLmFjdGl2ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZUNoZWNrZXJzKGosaSxjb2wsaSA8IDQgPyAnQmxhY2snIDogJ1doaXRlJyxpKjEwK2opO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7Z2VuZXJhdGVDb2woY29sLCdub25lJyxyb3dfaWQpO31cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2VuZXJhdGVDaGVja2VycyhqLGksY29sLGNsYXNzTmFtZSxpZCxjbGFzMil7XHJcbiAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSAsIGkqMTAraisnZWwnKTtcclxuICAgIGlmKGNsYXMyICE9IHVuZGVmaW5lZCl7ZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXMyKTt9XHJcbiAgICBlbGVtLmlkID1pKjEwK2orJ2VsJztcclxuICAgIGlmKGkgIT0gMCAmJiBqICE9MCkge1xyXG4gICAgICAgIGNvbFBvc1tpKjEwK2pdLmFjdGl2ZSA9IDE7XHJcbiAgICAgICAgY29sUG9zW2NvbC5pZF0uY29sb3JJbiA9IGNsYXNzTmFtZTtcclxuICAgICAgICBjb2xQb3NbY29sLmlkXS5pZENoZWNrZXJJTiA9IGVsZW0uaWQ7XHJcbiAgICAgICAgbmV3RWxlbWVudChjbGFzc05hbWUsaWQsMSxjb2wuaWQpO1xyXG4gICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdvbmNsaWNrJywnZGVmaW5lQ2hlY2tlcignKydcXCcnKyBlbGVtLmlkKydcXCcnKycpJyk7XHJcbiAgICB9XHJcbiAgICBjb2wuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ29sKGNvbCxjb2xvcixyb3dfaWQpe1xyXG4gICAgY29sLmNsYXNzTGlzdC5hZGQoY29sb3IpO1xyXG4gICAgcm93X2lkLmFwcGVuZENoaWxkKGNvbCk7XHJcbn0iLCJ2YXIgY29sUG9zID17fSxcclxuICAgICBlbGVtID17fSxcclxuICAgIGNvbHVtbklkPVtdLFxyXG4gICAgc3RlcDtcclxuICAgIGdhbWVzID0ge1xyXG4gICAgICdQYXNoYSc6e1xyXG4gICAgICAgICBzdGF0ZUdhbWU6MSxcclxuICAgICAgICAgY291bnRDaGVja2VyOjAsXHJcbiAgICAgICAgIGNvbDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlyc3RfZWxlbWVudHMnKVxyXG4gICAgIH0sXHJcbiAgICAgJ0RpbWEnOntcclxuICAgICAgICAgc3RhdGVHYW1lOjAsXHJcbiAgICAgICAgIGNvdW50Q2hlY2tlcjowLFxyXG4gICAgICAgICBjb2w6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlY29uZF9lbGVtZW50cycpXHJcbiAgICAgfVxyXG4gICAgfTtcclxuZnVuY3Rpb24gbmV3Q29sKGlkKXtcclxuICAgIGNvbFBvc1tpZF0gPSB7XHJcbiAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgIGFjdGl2ZTowLFxyXG4gICAgICAgIGNvbG9ySW46JycsXHJcbiAgICAgICAgaWRDaGVja2VySU46MFxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5ld0VsZW1lbnQoY29sb3IsaWQsYWN0aXZlLEluQ29sSWQpe1xyXG5cclxuICAgIGlmKCEoaWQgaW4gZWxlbSkpe1xyXG4gICAgZWxlbVtpZF0gPSB7XHJcbiAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgIGFjdGl2ZTphY3RpdmUsXHJcbiAgICAgICAgY29sb3I6Y29sb3IsXHJcbiAgICAgICAgSW5Db2xJZDpJbkNvbElkXHJcbiAgICB9fWVsc2V7ZWxlbVtpZF0uSW5Db2xJZCA9IEluQ29sSWQ7fVxyXG59XHJcbmZ1bmN0aW9uIGRlZmluZUNoZWNrZXIoaWRFbGVtZW50cykge1xyXG5cclxuICAgIGlmKGVsZW1bcGFyc2VJbnQoaWRFbGVtZW50cyldLmNvbG9yID09ICdXaGl0ZScgJiYgZ2FtZXMuUGFzaGEuc3RhdGVHYW1lID09IDEpIHtcclxuICAgICAgICBpZiAoY29sdW1uSWQubGVuZ3RoICE9IDApIHtcclxuICAgICAgICAgICAgY2xlYW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmVyaWZlQXRhY2tPclN0ZXAoaWRFbGVtZW50cywgZWxlbVtwYXJzZUludChpZEVsZW1lbnRzKV0uSW5Db2xJZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGVsZW1bcGFyc2VJbnQoaWRFbGVtZW50cyldLmNvbG9yID09ICdCbGFjaycgJiYgZ2FtZXMuRGltYS5zdGF0ZUdhbWUgPT0gMSl7XHJcbiAgICAgICAgaWYgKGNvbHVtbklkLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgICAgIGNsZWFuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZlcmlmZUF0YWNrT3JTdGVwKGlkRWxlbWVudHMsZWxlbVtwYXJzZUludChpZEVsZW1lbnRzKV0uSW5Db2xJZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0ZXBzKGUsaWQpe1xyXG4gICAgICAgIHZhciBwb3MgPSBlbGVtW2lkXS5JbkNvbElkO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKydlbCcpLnJlbW92ZSgpO1xyXG4gICAgICAgIHZhciBjb2wgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTtcclxuICAgICAgICBnZW5lcmF0ZUNoZWNrZXJzKGlkICUgMTAgLChpZCAtIGlkICUgMTApLzEwLGNvbCxlbGVtW2lkXS5jb2xvciA9PSAnQmxhY2snPydCbGFjayc6J1doaXRlJyxpZCk7XHJcbiAgICAgICAgY29sUG9zW2VdLmFjdGl2ZSA9IDE7XHJcbiAgICAgICAgY29sUG9zW3Bvc10uYWN0aXZlID0gMDtcclxuICAgICAgICBzdGVwID0gcG9zO1xyXG4gICAgICAgIGNsZWFuKDEpO1xyXG4gICAgY29uc29sZS5sb2coY29sUG9zKVxyXG59XHJcbmZ1bmN0aW9uIGF0dGFjayhlLGlkLElkUG9zQXR0YWNrQ2hlY2tlcil7XHJcbiAgICAgICAgdmFyIHBvcyA9IGVsZW1baWRdLkluQ29sSWQ7XHJcbiAgICAgICAgdmFyIGNvbEdhbWUgPSBlbGVtW2lkXS5jb2xvciA9PSAnQmxhY2snID8gZ2FtZXMuRGltYS5jb2wgOiBnYW1lcy5QYXNoYS5jb2w7XHJcbiAgICAgICAgZ2VuZXJhdGVDaGVja2VycygwLDAsY29sR2FtZSxjb2xQb3NbSWRQb3NBdHRhY2tDaGVja2VyXS5jb2xvckluLGlkKydlbCcsJ2RlYWRfY2hlY2tlcnMnKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCsnZWwnKS5yZW1vdmUoKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb2xQb3NbSWRQb3NBdHRhY2tDaGVja2VyXS5pZENoZWNrZXJJTikucmVtb3ZlKCk7XHJcbiAgICAgICAgdmFyIGNvbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO1xyXG4gICAgICAgIGVsZW1bcGFyc2VJbnQoY29sUG9zW0lkUG9zQXR0YWNrQ2hlY2tlcl0uaWRDaGVja2VySU4pXS5hY3RpdmUgPSAwIDtcclxuICAgICAgICBnZW5lcmF0ZUNoZWNrZXJzKGlkICUgMTAgLChpZCAtIGlkICUgMTApLzEwLGNvbCxlbGVtW2lkXS5jb2xvciA9PSAnQmxhY2snPydCbGFjayc6J1doaXRlJyxpZCk7XHJcbiAgICAgICAgY29sUG9zW3Bvc10uYWN0aXZlID0gMDtcclxuICAgICAgICBjb2xQb3NbSWRQb3NBdHRhY2tDaGVja2VyXS5hY3RpdmUgPSAwO1xyXG4gICAgICAgIGNvbFBvc1tlXS5hY3RpdmUgPSAxO1xyXG4gICAgICAgIHN0ZXAgPSBwb3M7XHJcbiAgICAgICAgY2xlYW4oMik7XHJcbiAgICBjb25zb2xlLmxvZyhjb2xQb3MpXHJcbn1cclxuZnVuY3Rpb24gdmVyaWZlT25XaW5uZXIoKSB7XHJcbiAgICBpZiAoZ2FtZXMuUGFzaGEuY291bnRDaGVja2VyID09IDEyKSB7XHJcbiAgICAgICAgYWxlcnQoJ1Bhc2hhIHdpbicpO1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgIH0gZWxzZSBpZiAoZ2FtZXMuRGltYS5jb3VudENoZWNrZXIgPT0gMTIpIHtcclxuICAgICAgICBhbGVydCgnRGltYSB3aW4nKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZ2FtZXMuUGFzaGEuY291bnRDaGVja2VyID09IDExICYmIGdhbWVzLkRpbWEuY291bnRDaGVja2VyID09IDExKSB7XHJcbiAgICAgICAgYWxlcnQoJ0RyYXcnKTtcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICB9XHJcbn0iLCJmdW5jdGlvbiB2ZXJpZmVBdGFja09yU3RlcChpZEVsZW0saWRDb2wpe1xyXG4gICAgaWRFbGVtPXBhcnNlSW50KGlkRWxlbSk7XHJcbiAgICB2YXIgeCA9IGlkQ29sICUgMTAsXHJcbiAgICAgICAgeSA9IChpZENvbCAtIChpZENvbCAlIDEwKSkvMTA7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZENvbCkuY2xhc3NMaXN0LmFkZCgnbWF5U3RlcHMnKTtcclxuICAgIGNvbHVtbklkLnB1c2goaWRDb2wpO1xyXG4gICAgaWYoZWxlbVtpZEVsZW1dLmNvbG9yID09ICdCbGFjaycpe1xyXG4gICAgICAgIG1hcmtQYWNlKHgseSwraWRFbGVtLDEsJ0JsYWNrJyx4IDwgOCAseCA8IDcseCA+IDEgLHggPiAyKTtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIG1hcmtQYWNlKHgseSwraWRFbGVtLC0xLCdXaGl0ZScseCA+IDEgLHggPiAyLHggPCA4ICx4IDwgNyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbWFya1BhY2UoeCx5LGlkRWxlbSxzdCxjb2xvcixhLGIsYyxkKXtcclxuICAgIGlmKGEpe1xyXG4gICAgICAgIGlmKGNvbFBvc1soeSsxKnN0KSoxMCsoeCsxKnN0KV0uYWN0aXZlID09IDAgfHwgY29sUG9zWyh5KzEqc3QpKjEwKyh4KzEqc3QpXS5jb2xvckluID09ICcnKXtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoKHkrMSpzdCkqMTArKHgrMSpzdCkpLmNsYXNzTGlzdC5hZGQoJ21heVN0ZXBzJyk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCh5KzEqc3QpKjEwKyh4KzEqc3QpKS5zZXRBdHRyaWJ1dGUoJ29uY2xpY2snLCAnc3RlcHMoJysoeSsxKnN0KSsoeCsxKnN0KSsnLCcraWRFbGVtKycpJyk7XHJcbiAgICAgICAgICAgIGNvbHVtbklkLnB1c2goKHkrMSpzdCkqMTArKHgrMSpzdCkpO1xyXG4gICAgICAgIH1lbHNlIGlmKGIpIHtcclxuICAgICAgICAgICAgaWYgKChjb2xQb3NbKHkgKyAyKnN0KSAqIDEwICsgKHggKyAyKnN0KV0uYWN0aXZlID09IDAgfHwgY29sUG9zWyh5ICsgMipzdCkgKiAxMCArICh4ICsgMipzdCldLmNvbG9ySW4gPT0nJykgJiYgY29sUG9zWyh5KzEqc3QpKjEwKyh4KzEqc3QpXS5jb2xvckluICE9IGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgoeSArIDIqc3QpICogMTAgKyAoeCArIDIqc3QpKS5jbGFzc0xpc3QuYWRkKCdhdHRhY2snKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCh5ICsgMipzdCkgKiAxMCArICh4ICsgMipzdCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgnb25jbGljaycsICdhdHRhY2soJysoeSArIDIqc3QpICArICh4ICsgMipzdCkrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICcsJytpZEVsZW0rJywnKyh5KzEqc3QpKyh4KzEqc3QpKycpJyk7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5JZC5wdXNoKCh5ICsgMipzdCkgKiAxMCArICh4ICsgMipzdCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYoYykge1xyXG4gICAgICAgIGlmIChjb2xQb3NbKHkgKyAxKnN0KSAqIDEwICsgKHggLSAxKnN0KV0uYWN0aXZlID09IDAgfHwgY29sUG9zWyh5ICsgMSpzdCkgKiAxMCArICh4IC0gMSpzdCldLmNvbG9ySW4gPT0gJycpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoKHkgKyAxKnN0KSAqIDEwICsgKHggLSAxKnN0KSkuY2xhc3NMaXN0LmFkZCgnbWF5U3RlcHMnKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoKHkgKyAxKnN0KSAqIDEwICsgKHggLSAxKnN0KSkuc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgJ3N0ZXBzKCcrKHkgKyAxKnN0KSAgKyAoeCAtIDEqc3QpKycsJytpZEVsZW0rJyknKTtcclxuICAgICAgICAgICAgY29sdW1uSWQucHVzaCgoeSArIDEqc3QpICogMTAgKyAoeCAtIDEqc3QpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGQpIHtcclxuICAgICAgICAgICAgaWYgKChjb2xQb3NbKHkgKyAyKnN0KSAqIDEwICsgKHggLSAyKnN0KV0uYWN0aXZlID09IDAgfHwgY29sUG9zWyh5ICsgMipzdCkgKiAxMCArICh4IC0gMipzdCldLmNvbG9ySW49PScnICkgJiYgY29sUG9zWyh5ICsgMSpzdCkgKiAxMCArICh4IC0gMSpzdCldLmNvbG9ySW4gIT0gY29sb3IpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCh5ICsgMipzdCkgKiAxMCArICh4IC0gMipzdCkpLmNsYXNzTGlzdC5hZGQoJ2F0dGFjaycpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoKHkgKyAyKnN0KSAqIDEwICsgKHggLSAyKnN0KSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgJ2F0dGFjaygnKyh5ICsgMipzdCkgKyAoeCAtIDIqc3QpKycsJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkRWxlbSsnLCcrKHkgKyAxKnN0KSAgKyAoeCAtIDEqc3QpKycpJyk7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5JZC5wdXNoKCh5ICsgMipzdCkgKiAxMCArICh4IC0gMipzdCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il19
